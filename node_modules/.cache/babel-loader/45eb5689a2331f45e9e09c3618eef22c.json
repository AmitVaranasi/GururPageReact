{"ast":null,"code":"var _jsxFileName = \"/home/amit/react/GururPageReact/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport $ from 'jquery';\nimport ListDisplay from './ListDisplay';\nimport Checkbox from './components/Checkbox';\nimport Formcheck from './components/Formcheck';\nimport logo from \"./Guru logo_small.svg\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [{\n        key: \"domain\",\n        baseurl: \"http://guru.southindia.cloudapp.azure.com:8051/knowlake/\",\n        path: \"/list_domains?q=\"\n      }],\n      rows: [],\n      inputfield: '',\n      inputdisable: false,\n      domain: '',\n      baseurl: 'http://guru.southindia.cloudapp.azure.com:8051/knowlake/',\n      path: '/list_domains?q=',\n      schema: {},\n      state: true,\n      url: \"http://guru.southindia.cloudapp.azure.com:8051/knowlake/agriculture/agriculture.models.entities.crop.Crop/5cee1953b116556c730c7667/details/\",\n      formdisplay: \"none\",\n      formcheck: false,\n      ischecked: true,\n      add_url: \"\",\n      buttonvisibility: \"none\"\n    };\n    this.apicall = this.apicall.bind(this);\n    this.triggerapp = this.triggerapp.bind(this);\n    this.handleclick = this.handleclick.bind(this);\n    this.apicall(\"\");\n  }\n\n  async triggerapp(display_name, id, class_name) {\n    console.log(\"this is id length: \" + id.length);\n    await this.setState({\n      list: [...this.state.list, {\n        key: display_name,\n        baseurl: this.state.baseurl,\n        path: id\n      }],\n      rows: [],\n      path: id + '?q=',\n      domain: display_name,\n      inputfield: ''\n    });\n\n    if (this.state.list.length === 4) {\n      console.log(\"hello i am \".concat(display_name));\n      await this.setState({\n        path: id,\n        state: false,\n        formcheck: true,\n        formdisplay: \"block\"\n      });\n    }\n\n    if (typeof class_name !== 'undefined') {\n      await this.setState({\n        add_url: class_name\n      });\n      console.log(this.state.add_url);\n    }\n\n    console.log(\"this is url: \" + this.state.url);\n    this.apicall(\"\");\n  }\n\n  async apicall(searchterm) {\n    const urlstring = this.state.baseurl + this.state.path + searchterm;\n    console.log(urlstring);\n    $.ajax({\n      url: urlstring,\n      success: searchResults => {\n        console.log(\"Fetched data successfully\"); //console.log(searchResults)\n\n        console.log(this.state.domain);\n        const results = searchResults; //console.log(searchResults)\n\n        if (this.state.state) {\n          const entities = [];\n          results.forEach(element => {\n            console.log(element);\n            const entity = React.createElement(ListDisplay, {\n              key: element.id,\n              element: element,\n              trigger: this.triggerapp,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 84\n              },\n              __self: this\n            });\n            entities.push(entity);\n          });\n          this.setState({\n            rows: entities\n          });\n        } else {\n          this.setState({\n            schema: results\n          });\n        }\n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\");\n      }\n    });\n  }\n\n  async handleclick(e) {\n    let search = \"\";\n\n    if (e.path !== \"/list_domains?q=\") {\n      search = \"?q=\";\n    }\n\n    if (this.state.list.length <= 4) {\n      console.log(this.state.list.length);\n      await this.setState({\n        inputfield: '',\n        rows: [],\n        path: e.path + search,\n        formcheck: false,\n        state: true\n      });\n\n      while (this.state.list[this.state.list.length - 1].key !== e.key) {\n        if (this.state.list.length > 1) {\n          const list = this.state.list.pop();\n        }\n      }\n    }\n\n    this.apicall(\"\");\n  }\n\n  async searchChangeHandler(event) {\n    if (this.state.rows.length === 0) {\n      await this.setState({\n        buttonvisibility: \"block\"\n      });\n    } else {\n      await this.setState({\n        buttonvisibility: \"none\"\n      });\n    }\n\n    this.setState({\n      inputfield: event.target.value\n    });\n    console.log(this.state.inputfield);\n    const searchTerm = event.target.value;\n    this.apicall(searchTerm);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"titleBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      style: {\n        width: 70,\n        height: 70,\n        paddingTop: 12\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      width: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Guru Knowledge\"))))), React.createElement(Checkbox, {\n      ischecked: this.state.ischecked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.list.map(number => React.createElement(\"li\", {\n      key: number.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleclick(number),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, number.key))))), React.createElement(\"div\", {\n      className: \"stylingbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        fontSize: 24,\n        display: 'block',\n        width: \"45%\",\n        paddingTop: 8,\n        paddingBottom: 8,\n        paddingLeft: 16\n      },\n      onChange: this.searchChangeHandler.bind(this),\n      value: this.state.inputfield,\n      disabled: this.state.inputdisable,\n      placeholder: \"search here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"addbutton\",\n      style: {\n        display: this.state.buttonvisibility\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"+\"), React.createElement(\"div\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, this.state.rows)), React.createElement(\"div\", {\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, console.log(this.state.formcheck), React.createElement(Formcheck, {\n      state: this.state.formcheck,\n      url: this.state.baseurl + this.state.path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/amit/react/GururPageReact/src/App.js"],"names":["React","Component","$","ListDisplay","Checkbox","Formcheck","App","constructor","props","state","list","key","baseurl","path","rows","inputfield","inputdisable","domain","schema","url","formdisplay","formcheck","ischecked","add_url","buttonvisibility","apicall","bind","triggerapp","handleclick","display_name","id","class_name","console","log","length","setState","searchterm","urlstring","ajax","success","searchResults","results","entities","forEach","element","entity","push","error","xhr","status","err","e","search","pop","searchChangeHandler","event","target","value","searchTerm","render","logo","width","height","paddingTop","map","number","fontSize","display","paddingBottom","paddingLeft"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './App.css';\nimport $ from 'jquery';\nimport ListDisplay from './ListDisplay'\nimport Checkbox from './components/Checkbox'\nimport Formcheck from './components/Formcheck'\nimport logo from './Guru logo_small.svg'\n\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      list:[{key:\"domain\",baseurl:\"http://guru.southindia.cloudapp.azure.com:8051/knowlake/\",path:\"/list_domains?q=\"}],\n      rows:[],\n      inputfield:'',\n      inputdisable:false,\n      domain:'',\n      baseurl:'http://guru.southindia.cloudapp.azure.com:8051/knowlake/',\n      path:'/list_domains?q=',\n      schema:{},\n      state:true,\n      url:\"http://guru.southindia.cloudapp.azure.com:8051/knowlake/agriculture/agriculture.models.entities.crop.Crop/5cee1953b116556c730c7667/details/\",\n      formdisplay:\"none\",\n      formcheck:false,\n      ischecked:true,\n      add_url:\"\",\n      buttonvisibility:\"none\"\n\n    }\n    this.apicall = this.apicall.bind(this);\n    this.triggerapp = this.triggerapp.bind(this);\n    this.handleclick = this.handleclick.bind(this);\n    this.apicall(\"\");\n  }\n   async triggerapp(display_name,id,class_name){\n     console.log(\"this is id length: \"+id.length);\n    await this.setState({\n      list:[...this.state.list,{key:display_name,baseurl:this.state.baseurl,path:id}],\n      rows:[],\n      path:id+'?q=',\n      domain:display_name,\n      inputfield:''\n    \n    })\n    if(this.state.list.length === 4){\n      console.log(`hello i am ${display_name}`)\n      await this.setState({\n        path:id,\n        state:false,\n        formcheck:true,\n        formdisplay:\"block\"\n      })\n    }\n    if (typeof class_name !== 'undefined'){\n      await this.setState({\n        add_url:class_name\n      })\n      console.log(this.state.add_url)\n    }\n    \n  \n  console.log(\"this is url: \"+this.state.url)  \n  this.apicall(\"\")\n  }\n\n  \n  async apicall(searchterm){\n    \n    const urlstring = this.state.baseurl+this.state.path+searchterm;\n    console.log(urlstring)\n    $.ajax({\n      url:urlstring,\n      success: (searchResults) => {\n        console.log(\"Fetched data successfully\")\n        //console.log(searchResults)\n        console.log(this.state.domain)\n        const results = searchResults\n        //console.log(searchResults)\n        if(this.state.state){\n        const entities = [];\n        results.forEach(element => {\n          console.log(element)\n          const entity = <ListDisplay key = {element.id} element = {element} trigger={this.triggerapp}/>\n          entities.push(entity)\n        });\n         this.setState({\n           rows:entities,\n         })}\n         else{\n           this.setState({\n             schema:results,\n           })\n         }\n        \n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\")\n      }\n    })\n\n    \n  }\n  async handleclick(e){\n    let search = \"\";\n    if(e.path !== \"/list_domains?q=\"){\n      search = \"?q=\";\n    }\n    if(this.state.list.length<=4){\n      console.log(this.state.list.length)\n    await this.setState({\n      inputfield:'',\n      rows:[],\n      path:e.path+search,\n      formcheck:false,\n      state:true\n    })\n    while(this.state.list[this.state.list.length-1].key !== e.key){\n         if(this.state.list.length>1){\n           const list = this.state.list.pop();\n         }\n       }\n\n    \n  }\n  this.apicall(\"\")\n   \n  }\n\n    async searchChangeHandler(event) {\n\n      if(this.state.rows.length === 0){\n        await this.setState({\n          buttonvisibility:\"block\"\n        })\n      }\n      else{\n        await this.setState({\n          buttonvisibility:\"none\"\n        })\n      }\n    \n     this.setState({ inputfield: event.target.value });\n    \n    console.log(this.state.inputfield)\n    const searchTerm = event.target.value      \n    this.apicall(searchTerm);\n  }\n  render(){\n    return(\n      <div className=\"App\">\n      <div className=\"Header\">\n      <table className=\"titleBar\">\n          <tbody>\n            <tr>\n              <td>\n                <img src ={logo} style = {{width:70,height:70,paddingTop:12}}/>\n              </td>\n              <td width=\"8\" />\n              <td >\n                <h1>Guru Knowledge</h1>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <Checkbox ischecked = {this.state.ischecked}></Checkbox>\n        <ul className =\"list\">\n          {this.state.list.map(number => <li key={number.key}><button onClick ={()=> this.handleclick(number)}>{number.key}</button></li>)}\n        </ul></div>\n       <div className = \"stylingbody\">\n       <div className = \"body\">\n        \n        <input  style={{\n          fontSize: 24,\n          display: 'block',\n          width: \"45%\",\n          paddingTop: 8,\n          paddingBottom: 8,\n          paddingLeft: 16,\n          \n        }}onChange={this.searchChangeHandler.bind(this)} value = {this.state.inputfield} disabled = {this.state.inputdisable}  placeholder=\"search here\"/>\n        <button className = \"addbutton\" style ={{display:this.state.buttonvisibility}}>\n          + \n        </button>\n        <div className=\"table\">{this.state.rows}</div>\n        \n        </div>\n        <div className = \"form\" >\n        {console.log(this.state.formcheck)}\n          <Formcheck state = {this.state.formcheck} url = {this.state.baseurl+this.state.path}/>\n        </div>\n       </div>\n    </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
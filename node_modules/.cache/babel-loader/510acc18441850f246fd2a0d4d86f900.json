{"ast":null,"code":"var _jsxFileName = \"/home/amit/react/GururPageReact/src/components/Form.js\";\nimport React from 'react';\nimport { getGlobals } from '../utils/getGlobals';\nimport './deps/opt/bootstrap.css';\nimport './Form.css';\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmitButton = (errors, values) => {\n      console.log(errors, values);\n    };\n\n    const _getGlobals = getGlobals(),\n          jf = _getGlobals.jf,\n          $ = _getGlobals.$,\n          _ = _getGlobals._;\n\n    this.jf = jf;\n    this.$ = $;\n    this._ = _;\n    this.state = {\n      url: this.props.url\n    };\n    this.onSubmittest = this.onSubmittest.bind(this);\n  }\n\n  onSubmittest(data) {\n    console.log(\"hey i am here\");\n    let urlpost = this.props.url;\n    this.$.ajax({\n      url: urlpost,\n      dataType: \"json\",\n      type: \"POST\",\n      data: {\n        data\n      },\n      contentType: \"application/json\",\n      success: function (data) {\n        alert(JSON.stringify(data.value));\n      },\n      error: function (d) {\n        alert(\"error\");\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.$el = this.$(this.el);\n    let please = this.$el;\n    let url = this.props.url;\n    console.log(this.props.url.substring(0, this.props.url.length - 1));\n    console.log(\"inside forms.js: \" + url);\n    this.$.ajax({\n      url: this.props.url,\n      type: \"GET\",\n      success: function (data) {\n        console.log(data['schema']); // for(field in data['schema']){\n        //   if(typeof(data['schema'][field])==\"object\"){\n        //     for(attr_key in data['schema'][field]){\n        //       if(attr_key==\"onKeyUp\"){\n        //         // console.log(data['schema'][field][attr_key]);\n        //         var myFunc = new Function(\"  \",data['schema'][field][attr_key]);\n        //         data['schema'][field][attr_key]=myFunc;\n        //       }\n        //     }\n        //   }\n        // }\n\n        please.jsonForm(data);\n      }\n    });\n\n    this.$el.onSubmitValid = function () {\n      console.log(\"hello 0\");\n      var values = this.please.jsonFormValue();\n      console.log('Values extracted from submitted form', values);\n      window.alert('Form submitted. Values object:\\n' + JSON.stringify(values, null, 2));\n      return false;\n    };\n\n    this.$el.submit(() => {\n      var values = please.jsonFormValue();\n      console.log(JSON.stringify(values));\n      this.onSubmittest(values);\n      return false;\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"JSON Form for expert \"), React.createElement(\"form\", {\n      meathod: \"POST\",\n      ref: el => {\n        this.el = el;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["/home/amit/react/GururPageReact/src/components/Form.js"],"names":["React","getGlobals","Form","Component","constructor","props","onSubmitButton","errors","values","console","log","jf","$","_","state","url","onSubmittest","bind","data","urlpost","ajax","dataType","type","contentType","success","alert","JSON","stringify","value","error","d","componentDidMount","$el","el","please","substring","length","jsonForm","onSubmitValid","jsonFormValue","window","submit","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { getGlobals } from '../utils/getGlobals';\nimport './deps/opt/bootstrap.css'\nimport './Form.css'\n\n\nclass Form extends React.Component {\n    \n    constructor(props){\n        super(props);\n        const {jf, $, _} = getGlobals();\n        this.jf = jf;\n        this.$ = $; \n        this._ = _;\n        this.state = {\n            url : this.props.url\n        }\n        this.onSubmittest = this.onSubmittest.bind(this);\n    }\n\n    onSubmitButton= (errors, values) => {\n        console.log(errors, values);\n    }\n    onSubmittest(data){\n        console.log(\"hey i am here\")\n        let urlpost = this.props.url;\n        this.$.ajax({\n            url:urlpost,\n            dataType: \"json\",\n            type:\"POST\",\n            data:{data},\n            contentType: \"application/json\",\n            success:function(data){\n                alert(JSON.stringify(data.value))\n            },\n            error: function (d) {\n                alert(\"error\");\n            }\n        })\n    }\n\n    componentDidMount(){\n        this.$el = this.$(this.el);\n        let please = this.$el;\n        let url = this.props.url;\n        console.log(this.props.url.substring(0, this.props.url.length-1))\n        console.log(\"inside forms.js: \"+url);\n        this.$.ajax(\n            {\n              url:this.props.url,\n              type: \"GET\",\n              success: function(data){\n                console.log( data['schema']);\n                // for(field in data['schema']){\n                //   if(typeof(data['schema'][field])==\"object\"){\n                //     for(attr_key in data['schema'][field]){\n                //       if(attr_key==\"onKeyUp\"){\n                //         // console.log(data['schema'][field][attr_key]);\n                //         var myFunc = new Function(\"  \",data['schema'][field][attr_key]);\n                //         data['schema'][field][attr_key]=myFunc;\n                //       }\n                //     }\n                //   }\n                // }\n                please.jsonForm(data);\n                \n              }\n            });\n        this.$el.onSubmitValid = function (){\n            console.log(\"hello 0\")\n            var values = this.please.jsonFormValue()\n          console.log('Values extracted from submitted form', values);\n          window.alert('Form submitted. Values object:\\n' +\n              JSON.stringify(values, null, 2));\n          return false\n        };\n        this.$el.submit(() => {\n            var values = please.jsonFormValue()\n            console.log(JSON.stringify(values));\n            this.onSubmittest(values)\n            \n            return false;\n        });\n    }\n    render(){\n        return(\n            <div className=\"col-md-6\">\n                <h1>JSON Form for expert </h1>\n                <form meathod = \"POST\" ref={el => {this.el = el;}}></form>\n            </div>\n        );\n    }\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}
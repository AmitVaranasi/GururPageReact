{"ast":null,"code":"var _jsxFileName = \"/home/amit/react/api-call/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport $ from 'jquery';\nimport ListDisplay from './ListDisplay';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [\"Domain\"],\n      rows: []\n    };\n    this.apicall(this);\n    this.triggerapp = this.triggerapp.bind(this);\n    this.domainapicall = this.domainapicall.bind(this);\n  }\n\n  triggerapp(display_name) {\n    this.setState({\n      list: [...this.state.list, display_name],\n      rows: []\n    });\n    this.domainapicall(display_name);\n  }\n\n  async domainapicall(domain) {\n    console.log(this.state.rows);\n    const response = await (await fetch(\"http://guru.southindia.cloudapp.azure.com:8001/knowlake/agriculture/list_entity_types?\")).json();\n    console.log('here is the response', response);\n    const urlstring = \"http://guru.southindia.cloudapp.azure.com:8001/knowlake/agriculture/list_entity_types?\";\n    $.ajax({\n      url: urlstring,\n      success: searchResults => {\n        console.log(\"Fetched data successfully\"); //console.log(searchResults)\n\n        const results = searchResults; //console.log(searchResults)\n\n        const domains = [];\n        results.forEach(element => {\n          const entity = React.createElement(ListDisplay, {\n            key: element.id,\n            element: element,\n            trigger: this.triggerapp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          });\n          domains.push(entity);\n        });\n        this.setState({\n          rows: domains\n        });\n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\");\n      }\n    });\n  }\n\n  apicall() {\n    const urlstring = \"http://guru.southindia.cloudapp.azure.com:8001/knowlake/list_domains/\";\n    $.ajax({\n      url: urlstring,\n      success: searchResults => {\n        console.log(\"Fetched data successfully\"); //console.log(searchResults)\n\n        const results = searchResults; //console.log(searchResults)\n\n        const entities = [];\n        results.forEach(element => {\n          console.log(element);\n          const entity = React.createElement(ListDisplay, {\n            key: element.id,\n            element: element,\n            trigger: this.triggerapp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          });\n          entities.push(entity);\n        });\n        this.setState({\n          rows: entities\n        });\n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\");\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"titleBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      width: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"entity ingestion\"))))), React.createElement(\"ul\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.list.map(number => React.createElement(\"li\", {\n      key: number,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, number)))), React.createElement(\"input\", {\n      style: {\n        fontSize: 24,\n        display: 'block',\n        width: \"30%\",\n        paddingTop: 8,\n        paddingBottom: 8,\n        paddingLeft: 16\n      },\n      placeholder: \"search here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), this.state.rows);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/amit/react/api-call/src/App.js"],"names":["React","Component","$","ListDisplay","App","constructor","props","state","list","rows","apicall","triggerapp","bind","domainapicall","display_name","setState","domain","console","log","response","fetch","json","urlstring","ajax","url","success","searchResults","results","domains","forEach","element","entity","id","push","error","xhr","status","err","entities","render","map","number","fontSize","display","width","paddingTop","paddingBottom","paddingLeft"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './App.css';\nimport $ from 'jquery';\nimport ListDisplay from './ListDisplay'\n\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      list:[\"Domain\"],\n      rows:[]\n    }\n    this.apicall(this);\n    this.triggerapp = this.triggerapp.bind(this);\n    this.domainapicall = this.domainapicall.bind(this);\n  }\n  triggerapp(display_name){\n    this.setState({\n      list:[...this.state.list,display_name],\n      rows:[]\n    })\n    this.domainapicall(display_name)\n  }\n  async domainapicall(domain){\n    console.log(this.state.rows);\n    const response = await (await fetch(`http://guru.southindia.cloudapp.azure.com:8001/knowlake/agriculture/list_entity_types?`)).json();\n    console.log('here is the response',response);\n    const urlstring = `http://guru.southindia.cloudapp.azure.com:8001/knowlake/agriculture/list_entity_types?`;\n    $.ajax({\n      url:urlstring,\n      success: (searchResults) => {\n        console.log(\"Fetched data successfully\")\n        //console.log(searchResults)\n\n        const results = searchResults\n        //console.log(searchResults)\n        const domains = [];\n        results.forEach(element => {\n          const entity = <ListDisplay key = {element.id} element = {element} trigger={this.triggerapp}/>\n          domains.push(entity)\n        });\n         this.setState({\n           rows:domains,\n         })\n        \n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\")\n      }\n    })\n  }\n  apicall(){\n    const urlstring = \"http://guru.southindia.cloudapp.azure.com:8001/knowlake/list_domains/\";\n    $.ajax({\n      url:urlstring,\n      success: (searchResults) => {\n        console.log(\"Fetched data successfully\")\n        //console.log(searchResults)\n\n        const results = searchResults\n        //console.log(searchResults)\n        const entities = [];\n        results.forEach(element => {\n          console.log(element)\n          const entity = <ListDisplay key = {element.id} element = {element} trigger={this.triggerapp}/>\n          entities.push(entity)\n        });\n         this.setState({\n           rows:entities,\n         })\n        \n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\")\n      }\n    })\n  }\n  render(){\n    return(\n      <div className=\"App\">\n      <table className=\"titleBar\">\n          <tbody>\n            <tr>\n              \n              <td width=\"8\"/>\n              <td>\n                <h1>entity ingestion</h1>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <ul className =\"list\">\n          {this.state.list.map(number => <li key={number}><button>{number}</button></li>)}\n        </ul>\n        <input style={{\n          fontSize: 24,\n          display: 'block',\n          width: \"30%\",\n          paddingTop: 8,\n          paddingBottom: 8,\n          paddingLeft: 16\n        }}  placeholder=\"search here\"/>\n        {this.state.rows}\n    </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}